using <stdlib.h>::{ free }
using <stdio.h>::{ printf }

using zx_http::{ RequestOptions }
using zx_http as http

fn log(http::Response+length *res) {
  let mut string = res->to_cstr();
  printf("%s\n", string);
  free(string);
}

fn main() -> int {
  new+4096 res = http::get(RequestOptions {
    url: "https://google.com"
  });

  log(&res);

  res.destroy();

  return 0;
}
